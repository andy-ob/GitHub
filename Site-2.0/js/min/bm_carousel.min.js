$(function(){var i,e=!1,a=!1;$.fn.carousel=function(){function n(){i=setInterval(function(){var i=$(".pagi li.active").next().attr("data-pos"),e=$(".pagi li.active").next().index();0==$(".pagi li.active").next().length?u(0,e):u(i,e)},t.timerspeed)}var r,t={scroll:!1,fade:!0,fadeSpeed:800,timer:!1,timerspeed:6e3},l=$(this),s=l.children("li").length;$(".carousel li").css({width:h});var f=function(){var i='<div class="carouselPagination"><ul class="pagi"></ul></div>';$(i).insertAfter(l);for(var e='<li><a href="#"></a></li>',a=0;s>a;a++)$(".pagi").append(e),$(".pagi li").last().attr("data-pos",C),C+=I},d=function(){var i=$(".pagi").children("li"),e=0;$(i[e]).addClass("active"),r=function(e){if($(i).removeClass("active"),1==e)for(var a=0;s>a;a++)a===g&&$(i[a]).addClass("active");else for(var a=s;a>=0;a--)a===g-1&&$(i[a]).addClass("active")}},c=function(){var i='<a href="#left" class="leftToggle">&larr; Previous</a>',e='<a href="#right" class="rightToggle">Next &rarr;</a>';$(e).insertAfter(l),$(i).insertAfter(l)},o=function(){if(1==t.scroll)if(s>g){$(l).find(".innerlist").animate({marginLeft:"-="+w},t.fadeSpeed);var i=!0;r(i),g++}else{var e=!0;u(0,0,e)}if(1==t.fade){var a=$(l).children("li");if(s>g){$(a[S]).fadeOut(600),S++,$(a[S]).fadeIn(600);var i=!0;r(i),g++}else $(a[S]).fadeOut(600),S=0,g=1,$(a[S]).fadeIn(600),r(i)}},v=function(){if(1==t.scroll)if(1!=g){$(l).find(".innerlist").animate({marginLeft:"+="+w},t.fadeSpeed);var i=!1;g--,r(i)}else{var e=!1,a=$(".pagi li").last().attr("data-pos");u(a,s-1,e)}if(1==t.fade){var n=$(l).children("li");if(g>1){$(n[S]).fadeOut(600),S-=1,$(n[S]).fadeIn(600);var i=!1;g-=1,r(i)}else $(n[S]).fadeOut(600),S=s-1,g=s,$(n[S]).fadeIn(600),r(i)}},u=function(i,a,n){if(1==t.scroll){var f=i;g=a+1;var d=$(l).find(".innerlist").css("marginLeft");if(parseInt(d),f>d)var c=!1;else if(1==n)var c=!1;else var c=!0;if(0==n){var o=$(l).find(".innerlist li").last().clone();$(o).addClass("return").removeClass("original"),$(o).prependTo($(l).find(".innerlist"));var v=$(l).find(".innerlist");$(v).css({width:100*$(l).find(".innerlist li").length+.5+"%"}),f=parseInt($(l).find(".innerlist").css("margin-left"))+$(l).find(".innerlist li:first-child").width(),e=!0,$(l).find(".innerlist").css({marginLeft:-f}),$(l).find(".innerlist").animate({marginLeft:0},t.fadeSpeed,function(){var i=($(l).find($(".innerlist li.original")).length-1)*$(l).find(".innerlist li:first-child").width();$(l).find(".innerlist").css({marginLeft:-i}),$(l).find(".return").remove()}),e=!1}else if(0==f){var o=$(l).find(".innerlist li:first-child").clone();$(o).addClass("return").removeClass("original"),$(o).appendTo($(l).find(".innerlist"));var v=$(l).find(".innerlist");$(v).css({width:100*$(l).find(".innerlist li").length+.5+"%"}),f=parseInt($(l).find(".innerlist").css("margin-left"))-$(l).find(".innerlist li:first-child").width()-3,e=!0,$(l).find(".innerlist").animate({marginLeft:f},t.fadeSpeed,function(){(1==n||1==e)&&($(l).find(".innerlist").css({marginLeft:0}),$(l).find(".return").remove(),e=!1)})}else 1==e&&($(l).find(".innerlist").css({marginLeft:0}),$(l).find(".return").remove(),e=!1),$(l).find(".innerlist").animate({marginLeft:"-"+f},t.fadeSpeed,function(){});r(c)}if(1==t.fade){var u=$(l).children("li");if("pagiClick"==n)$(u[S]).fadeOut(t.fadeSpeed),S=a,$(u[S]).fadeIn(t.fadeSpeed),g=a+1,r(c);else if(s>g){$(u[S]).fadeOut(t.fadeSpeed),S++,$(u[S]).fadeIn(t.fadeSpeed);var c=!0;r(c),g++}else $(u[S]).fadeOut(t.fadeSpeed),S=0,g=1,$(u[S]).fadeIn(t.fadeSpeed),r(c)}};if(s>1){if($(l).wrap('<div class="carouselWrap">'),1==t.scroll){$(l).find($("li")).wrapAll('<div class="innerlist cf">'),$(".carouselWrap").addClass("scroll");var p=$(l).children(".innerlist");$(p).css({width:100*s+"%"});var h=$(".carouselWrap").width();$(l).find("li").css({"float":"left",width:h});var g=1,m=$(l).width(),w=m,C=0,I=m;f(),d(),c()}if(1==t.fade){$(".carouselWrap").addClass("fade"),$(l).find("img").one("load",function(){$(l).css({height:$(l).children("li").height(),width:"100%"})}).each(function(){this.complete&&$(this).load()});var g=1,S=0;f(),d(),c()}if($(".rightToggle").click(function(i){i.preventDefault(),o()}),$(".leftToggle").click(function(i){i.preventDefault(),v()}),$("html.ie").length<=0){var L=Hammer(document.getElementById("hero"));0==a&&(L.on("swipeleft",function(i){i.gesture.preventDefault();{var e=$(this).find(".carousel");$(e).parent(".carousel-wrap").children(".carousel")}o()}),L.on("swiperight",function(i){i.gesture.preventDefault();{var e=$(this).find(".carousel");$(e).parent(".carousel-wrap").children(".carousel")}v()}),a=!0)}$("body").on("click",".pagi a",function(i){i.preventDefault();var e=$(this).parent().attr("data-pos"),a=$(this).parent().index();1==t.scroll&&u(e,a),1==t.fade&&u(0,a,"pagiClick")}),1==t.timer&&n()}$(window).resize(function(){for(var i=$(".carouselWrap").width(),e=$(".pagi li"),a=0;a<e.length;a++)$(e[a]).attr("data-pos",i*a);w=i,$(".carousel li").css({width:i}),1==t.fade&&$(l).css({height:$(l).children("li").height()})})},$(".carousel").carousel()});