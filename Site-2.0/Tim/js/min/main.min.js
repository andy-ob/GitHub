$(function(){function e(){var e=document.createElement("input");return"placeholder"in e}function t(e){return(10>e?"0":"")+e}function i(e){return e.replace(":","")}function o(e,t,i,o){function n(){return At++,1==i?(h-=v,p-=d,m-=u):(h+=v,p+=d,m+=u),$(c).attr("level-offset",h).css("-webkit-transform","translateY("+h+"px)").css("transform","translateY("+h+"px)"),$(g).attr("level-offset",p).css("-webkit-transform","translateY("+p+"px)").css("transform","translateY("+p+"px)"),$(f).attr("level-offset",m).css("-webkit-transform","translateY("+m+"px)").css("transform","translateY("+m+"px)"),At>=X?(At=0,gt=!1,scrollTotal=0,window.cancelAnimationFrame(n),void 0):(ut=s(n),void 0)}gt=!0;var a=.2*o,l=.4*o,r=.6*o,c=$(e).find(".level-1"),g=$(e).find(".level-2"),f=$(e).find(".level-3"),h=parseInt($(c).attr("level-offset")),p=parseInt($(g).attr("level-offset")),m=parseInt($(f).attr("level-offset")),v=a/X,d=l/X,u=r/X;n()}for(var n,a=0,l="webkit moz ms o".split(" "),s=window.requestAnimationFrame,r=window.cancelAnimationFrame,c=0;c<l.length&&(!s||!r);c++)n=l[c],s=s||window[n+"RequestAnimationFrame"],r=r||window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"];if(s&&r||(s=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-a)),o=window.setTimeout(function(){e(t+i)},i);return a=t+i,o},r=function(e){window.clearTimeout(e)}),window.requestAnimationFrame=s,window.cancelAnimationFrame=r,0==e()&&($("[placeholder]").each(function(){var e=$(this).attr("placeholder");$(this).val(e)}),$("[placeholder]").focus(function(){$(this).val();$(this).val("")}),$("[placeholder]").blur(function(){if(""==$(this).val()){var e=$(this).attr("placeholder");$(this).val(e)}})),$(".accord-title").on("click",function(e){e.preventDefault();var t=$(this).next(".accord-content");$(t).show();var i=$(this).parent(".accord-item"),o=$(i).outerHeight(),n=$(this).outerHeight();if($(".open").length>0){var a=$(".open");$(".open").animate({height:$(".open").find(".accord-title").outerHeight()},150,function(){$(a).height("auto"),$(a).find(".accord-content").hide(),$(a).removeClass("open")})}$(i).toggleClass("open"),$(i).hasClass("open")?($(i).height(n),$(i).animate({height:o},200)):$(i).animate({height:n},150,function(){$(i).height("auto"),$(t).hide()})}),$(".menu-trigger").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).toggleClass("open"),$(this).hasClass("open")?$("#leadNav").animate({right:0},200):$("#leadNav").animate({right:-300},200),$(this).hasClass("open")?$("body").animate({right:"300px",left:"-300px"},200):$("body").animate({right:"0",left:"0"},200)}),$("#leadNav").on("click",function(e){e.stopPropagation()}),$("body").on("click",function(){$(".menu-trigger").hasClass("open")&&($(".menu-trigger").removeClass("open"),$("#leadNav").animate({right:-300},200),$("body").animate({right:"0",left:"0"},200))}),$(".subNavTrigger").on("click",function(e){e.preventDefault();var t=$(this).next(".subNav");if($(this).toggleClass("open"),$(this).hasClass("open")){$(t).addClass("open"),$(t).height("auto");var i=$(t).height();$(t).height(0),$(t).animate({height:i},200)}else $(t).removeClass("open"),$(t).animate({height:0},200)}),$(".droplabel").click(function(){var e=$(this),t=$(e).next(),i=$(e).parents(".dropwrapper");if($(i).toggleClass("open"),$(i).hasClass("open")){$(t).height("auto");var o=$(t).height();$(t).height(0),$(t).animate({height:o},200)}else $(t).animate({height:0},150);$(t).find("a").click(function(){var o=$(this).text();$(e).find("span").text(o),$(t).animate({height:0},150,function(){$(i).removeClass("open")})})}),$(".tile-contain").length>0){var g=$(".tile-item").parent(".col"),f=g,h=$(".tile-item"),p=[];$(window).load(function(){var e=$(".tile-contain").height();$(".tile-contain").height(e)});for(var c=0;c<g.length;c++){var m=$(g[c]),v=m.position().left,d=m.position().top;p[c]={left:v,top:d},$(g[c]).css({left:v,top:d})}$(window).resize(function(){for(var e=0;e<$(h).length;e++){var t=$(".tile-item").parent(".col"),i=$(t[e]),o=i.position().left,n=i.position().top;p[e]={left:o,top:n},$(t[e]).css({left:o,top:n})}}),$(".dropdown a").click(function(e){for(var t=0;t<$(h).length;t++){var i=$(".tile-item").parent(".col"),o=$(i[t]),n=o.position().left,a=o.position().top;p[t]={left:n,top:a}}$(".tile-contain").addClass("filtered"),f=$(g),e.preventDefault();for(var l=$(this).attr("data-filter"),t=0;t<h.length;t++)$(h[t]).hasClass(l)?$(g[t]).animate({opacity:1}):$(g[t]).animate({opacity:.3});for(var s=[],t=h.length-1;t>=0;t--)if($(h[t]).hasClass(l)){var o=g[t];s.push(o),f.splice(t,1)}for(var t=0;t<s.length;t++)f.splice(0,0,s[t]);for(var t=0;t<h.length;t++)$(f[t]).css({position:"absolute"}),$(f[t]).animate({left:p[t].left,top:p[t].top},800,function(){$(".tile-contain").html(f),$(".tile-contain .col").css({position:""})})})}if($(window).load(function(){if($(".carousel").fadeIn(500),$("#imagecontain").length>0){var e,t,i=$("#imagecontain").height(),o=$("#imagecontain").find("img");if(o.length>1)for(var n=0;n<$(o).length;n++)$(o[n]).is(":visible")&&(e=o[n].height);else e=$(o).height();t=(e-i)/2,i>e?($("#imagecontain").height(e),$(o).css({top:0})):($("#imagecontain").height(600),$(o).css({top:-t})),$(window).resize(function(){if($(o).length>1)for(var n=0;n<$(o).length;n++)$(o[n]).is(":visible")&&(e=$(o[n]).height());else e=$(o).height();if(t=(e-i)/2,i>e)if($("#imagecontain").height(e),$(o).length>1)for(var n=0;n<$(o).length;n++)$(o[n]).css({top:0});else $(o).css({top:0});else if($("#imagecontain").height(600),$(o).length>1)for(var n=0;n<$(o).length;n++)$(o[n]).css({top:-t});else $(o).css({top:-t})})}}),$("#mapcanvas").length){var u=54.972885,w=-1.591,y={center:new google.maps.LatLng(u,w),zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,disableDefaultUI:!0,draggable:!1,disableDoubleClickZoom:!0},b=new Date,C=(b.getYear(),b.getMonth(),b.getHours()),T=b.getMinutes();T=t(T);var k=SunCalc.getTimes(b,u,w);console.log("------------------------------------------------");var x=new Date(k.nightEnd),D=x.getHours(),M=x.getMinutes(),x=D+":"+t(M),A=new Date(k.nauticalDawn),H=A.getHours(),Y=A.getMinutes(),A=H+":"+t(Y),L=new Date(k.dawn),I=L.getHours(),N=L.getMinutes(),L=I+":"+t(N),F=new Date(k.sunriseEnd),P=F.getHours(),z=F.getMinutes(),F=P+":"+t(z);console.log("Astronomical twilight AM: "+x),console.log("Nautical twilight AM: "+A),console.log("Civil twilight AM: "+L),console.log("Sunrise: "+F),console.log("------------------------------------------------");var O=new Date(k.sunset),q=O.getHours(),E=O.getMinutes(),O=q+":"+t(E),R=new Date(k.dusk),B=R.getHours(),S=R.getMinutes(),R=B+":"+t(S),W=new Date(k.nauticalDusk),U=W.getHours(),Z=W.getMinutes(),W=U+":"+t(Z),j=new Date(k.night),G=j.getHours(),J=j.getMinutes(),j=G+":"+t(J);console.log("Sunset & Civil twilight: "+O),console.log("Nautical Twilight PM: "+R),console.log("Astronomical twilight PM: "+W),console.log("Night: "+j),console.log("------------------------------------------------");var K=F,Q=O,V="24:00",X=C+":"+T;console.log(X),K=i(K),Q=i(Q),V=i(V),X=i(X),x=i(x),A=i(A),L=i(L),R=i(R),W=i(W),j=i(j),K=K/100*60,Q=Q/100*60,V=V/100*60,X=X/100*60,x=x/100*60,A=A/100*60,L=L/100*60,R=R/100*60,W=W/100*60,j=j/100*60;var _,et;if(X>=x&&K>X){console.log("Begining morning twilight period");var tt=K-x,it=X-x,ot=it/tt*100,nt=100-ot;_=-+nt,et=-.5*nt,console.log(ot+"% of light available")}if(X>=Q&&j>=X){console.log("Begining evening twilight period");var tt=j-Q,it=X-Q,ot=it/tt*100,ot=100-ot,nt=100-ot;_=-+nt,et=-.5*nt,console.log(ot+"% of light available")}X>K&&Q>X&&(_=0,et=0,console.log("Daytime, 100% light available")),(X>j&&V>=X||X>=0&&x>X)&&(console.log("Night time"),_="-100",et="-50"),console.log(_+" | "+et);var at=[{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{visibility:"on"},{color:"#eeeeee"},{saturation:_},{lightness:et}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",stylers:[{visibility:"on"},{color:"#6bb872"},{saturation:_},{lightness:et}]},{featureType:"road.arterial",stylers:[{visibility:"off"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{visibility:"on"},{color:"#87c7e1"},{saturation:_},{lightness:et}]},{featureType:"transit",stylers:[{visibility:"off"},{color:"#87c7e1"}]},{featureType:"road.highway",stylers:[{visibility:"off"},{color:"#87c7e1"}]},{elementType:"labels",stylers:[{visibility:"on"},{color:"#b0b1b0"},{saturation:_},{lightness:et}]},{elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#ffffff"}]},{elementType:"labels.icon",stylers:[{visibility:"off"},{color:"#ffffff"}]}],lt=new google.maps.Map(document.getElementById("mapcanvas"),y);lt.setOptions({styles:at});var st=(new google.maps.InfoWindow({maxWidth:284}),"/images/map-marker.png"),rt=new google.maps.Marker({animation:google.maps.Animation.DROP,position:new google.maps.LatLng(u,w),map:lt,title:name,icon:st});$(window).resize(function(){var e=$("header").height(),t=$("#intro").outerHeight(),i=$(window).height(),o=$(window).innerWidth();o>900?$("#mapcanvas").css("height",i-(t+e)+"px"):$("#mapcanvas").css("height","500px")}).resize(),$(document).on("click",".locations",function(){if($(".primary").hasClass("active")){var e=52.3055205,t=.4889108;rt.setPosition(new google.maps.LatLng(e,t)),lt.panTo(new google.maps.LatLng(e,t)),$(".primary").fadeOut(100,function(){$(this).removeClass("active")}),$(".secondary").fadeIn(100,function(){$(this).addClass("active")})}else rt.setPosition(new google.maps.LatLng(u,w)),lt.panTo(new google.maps.LatLng(u,w)),$(".secondary").fadeOut(100,function(){$(this).removeClass("active")}),$(".primary").fadeIn(100,function(){$(this).addClass("active")})})}if("none"!=$("#mediaCheck").css("display")&&$(".landing").length){var ct,gt=!0,ft=($("#content-wrap"),0),$t=window.innerHeight,ht=15,pt=!1;$(window).scrollTop()>100&&(pt=!0,$(".element-up").removeClass("element-up")),$(window).scroll(function(e){function t(){ft+=($t-ft)/ht,$(window).scrollTop(ft),ct=s(i)}function i(){return ft>=$t-1?(window.cancelAnimationFrame(ct),ft=0,gt=!0,pt=!0,void 0):(t(),void 0)}0==pt&&e.preventDefault(),$(window).scrollTop()<=100&&1==gt&&0==pt&&(gt=!1,t())})}if("none"!=$("#mediaCheck").css("display"))for(var mt=$(".animation-block"),ft=$(window).scrollTop(),c=0;c<mt.length;c++){{var vt=$(window).scrollTop()+$(window).height(),dt=$(mt[c]).offset().top;dt+$(mt[c]).height()}vt-100>=dt&&dt>=ft&&$(mt[c]).addClass("animate")}if($(window).scroll(function(){for(var e=$(".animation-block"),t=$(window).scrollTop(),i=0;i<e.length;i++){{var o=$(window).scrollTop()+$(window).height(),n=$(e[i]).offset().top;n+$(e[i]).height()}o-100>=n&&n>=t&&$(e[i]).addClass("animate")}}),$(".parallax").length&&"none"!=$("#mediaCheck").css("display")){for(var ut,gt=!1,wt=$(".parallax-block"),c=0;c<wt.length;c++){var yt=$(wt[c]).outerHeight(),bt=0*yt,Ct=0*yt,Tt=0*yt,kt=bt+"px",xt=Ct+"px",Dt=Tt+"px";$(wt[c]).find(".level-1").css("-webkit-transform","translateY("+kt+")").attr("level-offset",bt).css("transform","translateY("+kt+")").attr("level-offset",bt),$(wt[c]).find(".level-2").css("-webkit-transform","translateY("+xt+")").attr("level-offset",Ct).css("transform","translateY("+xt+")").attr("level-offset",Ct),$(wt[c]).find(".level-3").css("-webkit-transform","translateY("+Dt+")").attr("level-offset",Tt).css("transform","translateY("+Dt+")").attr("level-offset",Tt)}var Mt,X=15,At=0,Ht=0,Yt=0;window.onscroll=function(){var e=$(this).scrollTop(),t=!0;if(t=e>Ht?!0:!1,Ht=e,0==gt)for(var i=$(".parallax-block"),n=$(window).scrollTop(),a=0;a<i.length;a++){var l=$(window).scrollTop()+$(window).height(),s=$(i[a]).offset().top,r=s+$(i[a]).height();if(l>=s&&s>=n||n>=s&&l>=r){var c=$(window).scrollTop();Mt=c>=Yt?c-Yt:Yt-c,Yt=c,o(i[a],$(i[a]).outerHeight(),t,Mt)}}}}});